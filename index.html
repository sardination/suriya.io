<!DOCTYPE html>
<head>
    <style>
        html,body {
          height:100%;
          width:100%;
          margin:0;
        }
        body {
          display:flex;
          background-color: #E2EEF9;
        }
        .circle {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #FCCB00;
            height: 100px;
            width: 100px;
            border-radius: 50%;
            margin: auto;
        }
        #intro {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            width: 100%;
            margin: auto;
        }
    </style>

    <script>
        var messages = [
            [["t", "Hi! I'm Suriya"]],
            [["t", "Thanks for visiting my website"]],
            [["t", "I'm a systems engineer at "],
             ["a", {"href": "https://whist.com", "text": "Whist"}]],
            [["t", "I sometimes build things like "],
             ["a", {"href": "https://beancounter.me/", "text": "Bean Counter"}]],
            [["t", "This is my "],
             ["a", {"href": "https://github.com/sardination", "text": "GitHub"}]],
            [["t", "This is my "],
             ["a", {"href": "https://linkedin.com/in/suriyak/", "text": "LinkedIn"}]],
            [["t", "Come back later to see what else I'm doing!"]],
        ];

        window.onload = function() {
            var xmlns_svg = "http://www.w3.org/2000/svg";
            var xmlns_xlink = "http://www.w3.org/1999/xlink";

            var svg = document.createElementNS(xmlns_svg, "svg");
            svg.setAttribute("id", "intro");
            svg.setAttribute("viewBox", "0 0 1000 1000");

            var cx = 500;
            var cy = 500;
            var r = 100;
            var dif = 18;

            var circleElem = document.createElementNS(xmlns_svg, "circle");
            circleElem.setAttribute("cx", cx);
            circleElem.setAttribute("cy", cy);
            circleElem.setAttribute("r", r);
            circleElem.setAttribute("fill", "#FCCB00");
            svg.appendChild(circleElem);

            var numMessages = messages.length;
            messages.forEach(function(messageList, index) {
                var pathElem = document.createElementNS(xmlns_svg, "path");
                pathElem.setAttribute("fill", "none");
                pathElem.setAttribute("id", `path${numMessages - index}`);
                var textR = r + dif * (numMessages - index);
                var distributions = 4;

                // Start the text at different points around the circle
                var x_delta = textR * Math.cos(2 * Math.PI * (index / distributions));
                var y_delta = textR * Math.sin(2 * Math.PI * (index / distributions));
                var startX = cx + x_delta;
                var startY = cy + y_delta;
                var halfX = cx - x_delta;
                var halfY = cy - y_delta;

                // Double the circle so that text doesn't cut off when rotating
                var pathString = `M${startX},${startY} A${textR} ${textR} 0 1 1 ${halfX} ${halfY} A${textR} ${textR} 0 1 1 ${startX} ${startY} A${textR} ${textR} 0 1 1 ${halfX} ${halfY} A${textR} ${textR} 0 1 1 ${startX} ${startY} z`;
                pathElem.setAttribute("d", pathString);

                svg.appendChild(pathElem);

                var textElem = document.createElementNS(xmlns_svg, "text");
                textElem.setAttribute("font-size", "14px");
                textElem.setAttribute("fill", "black");

                var textPathElem = document.createElementNS(xmlns_svg, "textPath");
                textPathElem.setAttributeNS(xmlns_xlink, "xlink:href", `#path${numMessages - index}`);
                messageList.forEach(function(messagePart, _) {
                    if (messagePart[0] == "t") {
                        textPathElem.insertAdjacentText("beforeend", messagePart[1]);
                    } else if (messagePart[0] == "a") {
                        var anchorElem = document.createElementNS(xmlns_svg, "a");
                        anchorElem.setAttribute("fill", "#FCB900");
                        anchorElem.setAttribute("href", messagePart[1]["href"]);
                        anchorElem.textContent = messagePart[1]["text"];
                        textPathElem.appendChild(anchorElem)
                    }
                });

                var animateElem = document.createElementNS(xmlns_svg, "animate");
                animateElem.setAttribute("attributeName", "startOffset");
                // Use one circumference to set animating text start positions
                var startVal = 0;
                var middleVal = Math.PI * textR;
                var endVal = 2 * Math.PI * textR;
                animateElem.setAttribute("values", `${startVal};${middleVal};${endVal}`);
                // Make each text travel at different speeds
                var duration = 5 + 10 * Math.random();
                animateElem.setAttribute("dur", `${duration}s`);
                animateElem.setAttribute("repeatCount", "indefinite");
                textPathElem.appendChild(animateElem);

                textElem.appendChild(textPathElem);
                svg.appendChild(textElem);
            });

            document.body.appendChild(svg);
        }
    </script>
</head>

<body>

</body>
</html>